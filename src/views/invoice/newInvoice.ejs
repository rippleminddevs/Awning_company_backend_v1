<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Customer Quote - The Awning Company</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        margin: 0;
        padding: 0px;
        font-family: "Helvetica Neue", Arial, sans-serif;
        background: #f3f4f6;
        /* padding: 30px; */
        color: #333;
    }

    .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        padding: 40px 50px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        border-radius: 6px;
    }

    /* Header Section */
    .header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 30px;
        flex-wrap: wrap;
        margin-bottom: 30px;
    }

    .company-info {
        flex: 1;
        min-width: 280px;
    }

    .company-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 10px;
    }

    .company-logo {
        width: 60px;
        height: 60px;
        object-fit: contain;
        border-radius: 4px;
    }

    .company-title {
        font-size: 20px;
        font-weight: bold;
        color: #2d8659;
        line-height: 1.2;
    }

    .company-title small {
        font-size: 12px;
        color: #666;
    }

    .company-details {
        font-size: 13px;
        line-height: 1.6;
        color: #555;
    }

    .sales-info {
        flex: 1;
        min-width: 280px;
        font-size: 13px;
        line-height: 1.6;
        color: #444;
        background: #f9fafb;
        padding: 15px 20px;
        border-radius: 6px;
        border-left: 4px solid #2d8659;
    }

    /* Quote Title */
    .quote-title {
        background: #2d8659;
        color: white;
        padding: 12px 20px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 4px;
        margin-bottom: 25px;
        letter-spacing: 0.5px;
    }

    /* Customer Details */
    .customer-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 20px;
        font-size: 13px;
        line-height: 1.7;
        margin-bottom: 25px;
    }

    .label {
        font-weight: bold;
        color: #2d8659;
    }

    /* Line Items */
    .item-header {
        display: grid;
        grid-template-columns: 60px 80px 1fr 150px;
        background: #e8e8e8;
        font-weight: bold;
        font-size: 13px;
        padding: 10px 15px;
        border-radius: 4px;
    }

    .line-item {
        display: grid;
        grid-template-columns: 60px 80px 1fr 150px;
        gap: 15px;
        padding: 15px;
        border-bottom: 1px solid #e5e7eb;
        align-items: start;
    }

    .line-item div{
        text-align: center;
    }

    .item-header div{
        text-align: center;
    }

    .item-image {
        width: 100%;
        max-width: 150px;
        height: auto;
        margin-bottom: 8px;
        border-radius: 4px;
        border: 1px solid #ddd;
    }

    .item-description {
        font-size: 13px;
        color: #444;
        line-height: 1.6;
    }

    .item-description h4 {
        font-size: 14px;
        color: #2d8659;
        margin-bottom: 8px;
    }

    .price {
        font-weight: bold;
        font-size: 15px;
        text-align: right;
        color: #000;
    }

    /* Summary Section */
    .pricing-summary {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        background: #f9fafb;
        padding: 20px;
        border-radius: 6px;
        margin-top: 30px;
        gap: 20px;
    }

    .pricing-left, .pricing-right {
        flex: 1;
        min-width: 260px;
        font-size: 13px;
        line-height: 1.8;
    }

    .pricing-row {
        display: flex;
        justify-content: space-between;
    }

    .pricing-row.total {
        border-top: 2px solid #2d8659;
        margin-top: 10px;
        padding-top: 8px;
        font-weight: bold;
        font-size: 14px;
    }

    /* Terms */
    .terms {
        font-size: 12px;
        color: #444;
        margin-top: 30px;
    }

    .terms h3 {
        font-size: 13px;
        color: #2d8659;
        margin-bottom: 10px;
    }

    .terms ol {
        margin-left: 20px;
    }

    /* Signature */
    .signature-section {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 40px;
        margin-top: 40px;
    }

    .signature-field {
        flex: 1;
    }

    .signature-line {
        border-bottom: 2px solid #000;
        margin-top: 40px;
        width: 100%;
    }

    .brands {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        border-top: 1px solid #e0e0e0;
        padding-top: 20px;
        margin-top: 40px;
    }

    .brand-logo img {
        max-height: 40px;
        width: auto;
        opacity: 0.8;
    }

    .note {
        font-size: 11px;
        color: #777;
        font-style: italic;
        margin-top: 5px;
    }
</style>
</head>
<body>
<div class="container">
    <div class="header">
        <div class="company-info">
            <div class="company-header">
                <img src="<%= config.app.url %>/static/uploads/avatar.png" class="company-logo" alt="Company Logo">
                <div class="company-title">
                    the<span style="color:#000;">AWNING</span> <small>company</small>
                </div>
            </div>
            <div class="company-details">
                <%= company.address %><br>
                Email: <%= company.email %><br>
                Office: <%= company.office %><br>
                License: <%= company.license %><br>
                Representative: <%= company.representative %><br>
                Direct: <%= company.direct %>
            </div>
        </div>

        <div class="sales-info">
            <strong>Salesperson Name:</strong> <%= salesperson.name %><br>
            <strong>Phone:</strong> <%= salesperson.phone %><br>
            <strong>Email:</strong> <%= salesperson.email %><br>
            <strong>Quote Creation Date:</strong> <%= salesperson.quoteCreated %><br>
            <strong>Quote Expiration Date:</strong> <%= salesperson.quoteExpiry %>
        </div>
    </div>

    <div class="quote-title">CUSTOMER QUOTE <%= customer.quoteId %></div>

    <div class="customer-details">
        <div>
            <span class="label">NAME:</span> <%= customer.name %><br>
            <span class="label">STREET:</span> <%= customer.street %><br>
            <span class="label">CITY / STATE / ZIP:</span> <%= customer.city %> <%= customer.state %> <%= customer.zipCode %><br>
            <span class="label">PHONE:</span> <%= customer.phone %>
        </div>
        <div>
            <span class="label">EMAIL:</span> <%= customer.email %><br>
            <span class="label">JOB LOCATION:</span> <%= customer.jobLocation %><br>
            <span class="label">SOURCE:</span> <%= customer.source %><br>
            <span class="label">APPROX. PRODUCT LEAD TIME:</span> <%= customer.leadTime %>
        </div>
        <div>
            <span class="label">APPROX. INSTALLATION TIME:</span> <%= customer.installTime %>
        </div>
    </div>

    <div class="item-header">
        <div>Line Item</div>
        <div>Qty</div>
        <div>Unit Description</div>
        <div>Extended Price</div>
    </div>

    <% items.forEach(function(item, index) { %>
    <div class="line-item">
        <div><%= index + 1 %></div>
        <div><%= item.qty %></div>
        <div>
            <% if (item.image) { %>
                <img src="<%= item.image %>" class="item-image" alt="<%= item.title %>">
            <% } %>
            <div class="item-description">
                <h4><%= item.title %></h4>
                <p><%= item.description %></p>
                <% if (item.location) { %><p><strong>Location:</strong> <%= item.location %></p><% } %>
                <% if (item.size) { %><p><strong>Size:</strong> <%= item.size %></p><% } %>
                <% if (item.color) { %><p><strong>Structure Color:</strong> <%= item.color %></p><% } %>
                <div class="note">***Permits are NOT included. Responsibility of the property owner.***</div>
            </div>
        </div>
        <div class="price"><%= item.extendedPrice %></div>
    </div>
    <% }) %>

    <div class="pricing-summary">
        <div class="pricing-left">
            <div class="pricing-row"><span>Project Subtotal:</span><span><%= summary.subtotal %></span></div>
            <div class="pricing-row"><span>Discount:</span><span><%= summary.discount %></span></div>
            <div class="pricing-row"><span>Taxes:</span><span><%= summary.taxes %></span></div>
            <div class="pricing-row"><span>Freight:</span><span><%= summary.freight %></span></div>
            <div class="pricing-row total"><span>Grand Total:</span><span><%= summary.total %></span></div>
        </div>
        <div class="pricing-right">
            <div class="pricing-row"><span><strong>Payment Schedule</strong></span></div>
            <div class="pricing-row"><span>Due At Acceptance:</span><span><%= payment.dueAcceptance %></span></div>
            <div class="pricing-row"><span>No of Installments:</span><span><%= payment.installments %></span></div>
            <div class="pricing-row"><span>Due 1-Week Prior To Delivery:</span><span><%= payment.duePriorDelivery %></span></div>
            <div class="pricing-row total"><span>Balance Due At Completion:</span><span><%= payment.balanceCompletion %></span></div>
        </div>
    </div>

    <div class="terms">
        <h3>Terms and Conditions</h3>
        <ol>
            <% terms.forEach(function(term) { %>
                <li><%= term %></li>
            <% }) %>
        </ol>
    </div>

    <div class="signature-section">
        <div class="signature-field">
            <label>Acceptance:</label>
            <div class="signature-line"></div>
        </div>
        <div class="signature-field">
            <label>Date:</label>
            <div class="signature-line"></div>
        </div>
    </div>

    <div class="brands">
        <% company.sponsers.forEach(function(sponsor) { %>
            <div class="brand-logo">
                <img src="<%= sponsor %>" alt="Sponsor Logo">
            </div>
        <% }) %>
    </div>
</div>
</body>
</html>
